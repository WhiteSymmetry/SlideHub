# -*- coding: utf-8 -*-
require "#{File.dirname(__FILE__)}/lib/oss/version"

task :default => :build

task :build_base do
  cmd = 'cd docker-images/base && docker build -t ryuzee/slidehub-base .'
  sh cmd
end

task :push_base do
  cmd = 'cd docker-images/base && docker push ryuzee/slidehub-base:latest'
  sh cmd
end

task :build do
  cmd = 'docker build -t ryuzee/slidehub:latest .'
  sh cmd
  cmd = "docker build -t ryuzee/slidehub:#{SlideHub::VERSION} ."
  sh cmd
end

task :push do
  cmd = 'docker push ryuzee/slidehub:latest'
  sh cmd
  cmd = "docker push ryuzee/slidehub:#{SlideHub::VERSION}"
  sh cmd
end
